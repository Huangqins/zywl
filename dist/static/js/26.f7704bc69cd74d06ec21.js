webpackJsonp([26],{Sxfp:function(e,t){},bjH6:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("TIfe"),a=s("vLgD");var r={data:function(){return{headers:{token:Object(n.a)(),userName:Object(n.b)(),menuCode:vm._route.meta.menuCode},uploadUrl:location.origin+"/ZY/system/loadFile",taskListItem:[{target_info_key:"isTry",target_info_name:"授权类型:",target_info_des:0},{target_info_key:"username",target_info_name:"授权用户:",target_info_des:0},{target_info_key:"device",target_info_name:"授权设备码:",target_info_des:0},{target_info_key:"version",target_info_name:"序列号:",target_info_des:0},{target_info_key:"userNum",target_info_name:"可管理资源数:",target_info_des:0},{target_info_key:"endTime",target_info_name:"授权截止时间:",target_info_des:0},{target_info_key:"startTime",target_info_name:"授权签发时间:",target_info_des:0}]}},mounted:function(){this._getSystemInfo()},methods:{success:function(e){0===e.result?this.$Message.info("文件上传成功"):-1===e.result?this.$Message.error("文件上传失败"):this.$Message.error("上传文件已过期或者已达到限额，请获取最新证书后上传")},_getSystemInfo:function(){var e=this;Object(a.a)({method:"post",url:"/ZY/system/getSystemInfo",data:{}}).then(function(t){if("2"===t.result)e.$Message.error("文件不存在");else if("2"===t.result)e.$Message.error("授权到期");else{var s=t;s.isTry="0"===s.isTry?"试用":"正式";var n;n=s.userNum-s.useNum,s.userNum="总共"+s.userNum+",已使用"+s.useNum+",剩余"+n+"可用",e.taskListItem.forEach(function(e){e.target_info_des=s[e.target_info_key]})}})}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"authorize-container"},[s("Upload",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{multiple:"",action:e.uploadUrl,"with-credentials":!0,name:"license",headers:e.headers,"show-upload-list":!1,"on-success":e.success}},[s("Button",{attrs:{type:"primary",icon:"ios-cloud-upload-outline"}},[e._v("导入授权文件")])],1),e._v(" "),s("Card",{staticClass:"ym"},[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{attrs:{type:"ios-film-outline"}}),e._v("\n              授权信息\n            ")],1),e._v(" "),s("ul",e._l(e.taskListItem,function(t,n){return s("li",{key:n},[e._v("\n                    "+e._s(t.target_info_name)+"\n                    "),s("span",[e._v("\n                        "+e._s(t.target_info_des)+"\n                    ")])])}))])],1)},staticRenderFns:[]};var o=s("vSla")(r,i,!1,function(e){s("Sxfp")},"data-v-10fbdff2",null);t.default=o.exports}});