webpackJsonp([22],{"8SLU":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("aA9S"),o=s.n(a),r=s("TIfe"),l=s("vLgD");var n={data:function(){return{uploadUrl:location.origin+"/ZY/system/loadFile",headers:{token:Object(r.a)(),userName:Object(r.b)(),menuCode:vm._route.meta.menuCode},modal1:!1,formItem:{userName:"",email:""},display:{trueName:"",IDCard:"",company:""},passItem:{password:"",new_password:"",confirm_password:""},userInfos:{}}},created:function(){this._getUserInfo()},methods:{_getUserInfo:function(){var t=this;Object(l.a)({method:"post",url:"/ZY/user/userInfo",data:{}}).then(function(e){t.userInfos=e.user;var s=e.user,a=s.trueName,o=s.userName,r=s.email,l=s.IDCard,n=s.company;t.formItem={userName:o,email:r},t.display={trueName:a,IDCard:l,company:n},console.log(e)})},handleSubmit:function(){var t,e=this,s=o()({},this.userInfos,this.formItem);(t=s,Object(l.a)({method:"post",url:"/ZY/user/updateUser",data:t})).then(function(t){0===t.result?(e.$Message.info("修改成功"),e._getUserInfo()):e.$Message.info("修改失败")})},Reset:function(){this.$refs.formItem.resetFields()},ok:function(){this.$Message.info("提交成功")},cancel:function(){this.$Message.info("已取消")}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logs"},[s("div",{staticStyle:{padding:"10px"}},[s("Card",[s("p",{staticStyle:{"font-size":"16px"},attrs:{slot:"title"},slot:"title"},[s("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"person"}}),t._v("个人信息")],1),t._v(" "),s("Form",{attrs:{model:t.formItem,"label-width":80}},[s("FormItem",{attrs:{label:"用户名"}},[s("Input",{staticStyle:{width:"300px"},model:{value:t.formItem.userName,callback:function(e){t.$set(t.formItem,"userName",e)},expression:"formItem.userName"}})],1),t._v(" "),s("FormItem",{attrs:{label:"邮箱"}},[s("Input",{staticStyle:{width:"300px"},model:{value:t.formItem.email,callback:function(e){t.$set(t.formItem,"email",e)},expression:"formItem.email"}})],1),t._v(" "),s("FormItem",{attrs:{label:"真实姓名"}},[s("span",{staticStyle:{width:"300px",color:"#fff"}},[t._v(t._s(t.display.trueName))])]),t._v(" "),s("FormItem",{attrs:{label:"身份证"}},[s("span",{staticStyle:{width:"300px",color:"#fff"}},[t._v(t._s(t.display.IDCard))])]),t._v(" "),s("FormItem",{attrs:{label:"公司"}},[s("span",{staticStyle:{width:"300px",color:"#fff"}},[t._v(t._s(t.display.company))])]),t._v(" "),s("FormItem",{attrs:{label:"登陆密码"}},[s("span",{staticStyle:{width:"300px","font-size":"14px",color:"#fff"},on:{click:function(e){t.modal1=!0}}},[t._v("修改密码")])]),t._v(" "),s("FormItem",[s("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:t.Reset}},[t._v("取消")]),t._v(" "),s("Button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("提交")])],1)],1)],1)],1),t._v(" "),s("Modal",{attrs:{title:"修改密码","mask-closable":!1,closable:!1},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[s("Form",{attrs:{model:t.passItem,"label-width":80}},[s("FormItem",{attrs:{label:"原密码"}},[s("Input",{staticStyle:{width:"300px"},model:{value:t.passItem.password,callback:function(e){t.$set(t.passItem,"password",e)},expression:"passItem.password"}})],1),t._v(" "),s("FormItem",{attrs:{label:"新密码"}},[s("Input",{staticStyle:{width:"300px"},model:{value:t.passItem.new_password,callback:function(e){t.$set(t.passItem,"new_password",e)},expression:"passItem.new_password"}})],1),t._v(" "),s("FormItem",{attrs:{label:"确认密码"}},[s("Input",{staticStyle:{width:"300px"},model:{value:t.passItem.confirm_password,callback:function(e){t.$set(t.passItem,"confirm_password",e)},expression:"passItem.confirm_password"}})],1)],1)],1)],1)},staticRenderFns:[]};var i=s("vSla")(n,m,!1,function(t){s("9PnW")},"data-v-404ebd33",null);e.default=i.exports},"9PnW":function(t,e){}});