{"version":3,"sources":["webpack:///./src/api/assetsInfo.js","webpack:///src/components/guide/assetSet.vue","webpack:///./src/api/assetsSet.js","webpack:///./src/components/guide/assetSet.vue?7fcd","webpack:///./src/components/guide/assetSet.vue"],"names":["_ref","area","rows","page","Object","__WEBPACK_IMPORTED_MODULE_0__utils_request__","method","url","data","assetSet","params","assetsUrl","assetsIp","date","_this","this","taskName","strategy","cycle","userName","startTime","auth","request","guide_assetSet","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","formItem","label-width","rules","ruleValidate","label","placeholder","value","callback","$$v","$set","expression","_v","prop","staticStyle","width","type","on","on-change","timeChange","click","cancel","float","$event","goToIndex","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.fdef745aad954e3dec78.js","sourcesContent":["import request from '@/utils/request'\r\n\r\nexport default function assetsInfo({ area, rows, page }) {\r\n    return request({\r\n        method: 'post',\r\n        url: '/ZY/asset/assetsInfo',\r\n        data: {\r\n            area,\r\n            rows,\r\n            page\r\n        }\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/assetsInfo.js","<template>\r\n<div>\r\n\r\n  <div class=\"entry\">\r\n       <Form :model=\"formItem\" :label-width=\"80\" ref=\"formItem\" :rules=\"ruleValidate\" >\r\n       <FormItem label=\"任务名称\">\r\n            <Input v-model=\"formItem.taskName\" placeholder=\"请输入\"/>\r\n       </FormItem>\r\n          <FormItem label=\"扫描策略\">\r\n             <RadioGroup v-model=\"formItem.strategy\">\r\n              <Radio label= \"0\">立即扫描</Radio>\r\n              <Radio label= \"1\">常规扫描</Radio>\r\n             </RadioGroup>\r\n          </FormItem>\r\n          <FormItem label=\"开始时间\" prop=\"startTime\">\r\n            <Row>\r\n                <DatePicker type=\"datetime\" placeholder=\"开始时间\" style=\"width:420px;\"  @on-change=\"timeChange\"></DatePicker>\r\n            </Row>\r\n          </FormItem>\r\n          <FormItem label=\"周期\" prop=\"cycle\">\r\n            <Select v-model=\"formItem.cycle\">\r\n                <Option value=\"0\">立即执行</Option>\r\n                <Option value=\"2\">每天</Option>\r\n                <Option value=\"3\">每月</Option>\r\n                <Option value=\"4\">每年</Option>               \r\n            </Select>\r\n          </FormItem>\r\n          <FormItem label=\"资产url\">\r\n              \r\n            <Input v-model=\"formItem.assetsUrl\" placeholder=\"请输入\"/>\r\n          </FormItem>\r\n          <FormItem label=\"资产ip\">\r\n              \r\n                <Input v-model=\"formItem.assetsIp\" placeholder=\"请输入\"/>\r\n          </FormItem>\r\n          <FormItem>\r\n              <Button type=\"info\" @click=\"cancel\">取消</Button>\r\n              <Button type=\"success\" @click=\"goToIndex('formItem')\" style=\"float: right\">提交</Button>\r\n          </FormItem>\r\n      </Form>\r\n  </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport assetsInfo from \"api/assetsInfo\";\r\nimport assetsSet from \"api/assetsSet\";\r\nimport { getUserName } from \"@/utils/auth\";\r\nexport default {\r\n  name: \"assetSet\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      formItem: {\r\n        taskName: \"\",\r\n        strategy:\"0\",\r\n        startTime: \"\",\r\n        cycle: \"0\",\r\n        disabledGroup: \"常规执行\",\r\n        assetsUrl: \"\",\r\n        assetsIp: \"\",\r\n        userName: \"\"\r\n      },\r\n\r\n      ruleValidate: {\r\n        assets: [\r\n          {\r\n            required: true,\r\n            message: \"请选择资产\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        cycle: [\r\n          {\r\n            required: true,\r\n            message: \"请选择周期\",\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n        //   startTime:[{\r\n        //        required: true,type:'string', message: '请选择开始时间', trigger: 'change'\r\n        //   }]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    const params = this.$route.params;\r\n    this.formItem.assetsUrl = params.assetsUrl;\r\n    this.formItem.assetsIp = params.assetsIp;\r\n  },\r\n  methods: {\r\n    timeChange(date) {\r\n      this.formItem.startTime = date\r\n    },\r\n    cancel() {\r\n      //    跳到任务管理页面\r\n    \r\n    },\r\n    //点击提交跳到首页\r\n    goToIndex(assets) {\r\n      this.$refs[assets].validate(valid => {\r\n        if (valid) {\r\n          this.formItem.userName = getUserName();\r\n          assetsSet(this.formItem).then(res => {\r\n            if (res.result === 0) {\r\n              this.$router.push({path: '/taskexecution'})\r\n            } else if (res.result === -1) {\r\n              this.$Message.error({\r\n                content: '添加任务失败'\r\n              })\r\n            }\r\n          });\r\n        } else {\r\n          this.$Message.error(\"Fail!\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/guide/assetSet.vue","import request from '@/utils/request'\r\n\r\nexport default function assetsSet({ taskName, strategy, cycle, userName, startTime, assetsUrl, assetsIp }) {\r\n    return request({\r\n        method: 'post',\r\n        url: '/ZY/task/addTask',\r\n        data: {\r\n            taskName, strategy, cycle, userName, startTime, assetsUrl, assetsIp\r\n        }\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/assetsSet.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"entry\"},[_c('Form',{ref:\"formItem\",attrs:{\"model\":_vm.formItem,\"label-width\":80,\"rules\":_vm.ruleValidate}},[_c('FormItem',{attrs:{\"label\":\"任务名称\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formItem.taskName),callback:function ($$v) {_vm.$set(_vm.formItem, \"taskName\", $$v)},expression:\"formItem.taskName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"扫描策略\"}},[_c('RadioGroup',{model:{value:(_vm.formItem.strategy),callback:function ($$v) {_vm.$set(_vm.formItem, \"strategy\", $$v)},expression:\"formItem.strategy\"}},[_c('Radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"立即扫描\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"常规扫描\")])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"开始时间\",\"prop\":\"startTime\"}},[_c('Row',[_c('DatePicker',{staticStyle:{\"width\":\"420px\"},attrs:{\"type\":\"datetime\",\"placeholder\":\"开始时间\"},on:{\"on-change\":_vm.timeChange}})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"周期\",\"prop\":\"cycle\"}},[_c('Select',{model:{value:(_vm.formItem.cycle),callback:function ($$v) {_vm.$set(_vm.formItem, \"cycle\", $$v)},expression:\"formItem.cycle\"}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"立即执行\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"2\"}},[_vm._v(\"每天\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"3\"}},[_vm._v(\"每月\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"4\"}},[_vm._v(\"每年\")])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"资产url\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formItem.assetsUrl),callback:function ($$v) {_vm.$set(_vm.formItem, \"assetsUrl\", $$v)},expression:\"formItem.assetsUrl\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"资产ip\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formItem.assetsIp),callback:function ($$v) {_vm.$set(_vm.formItem, \"assetsIp\", $$v)},expression:\"formItem.assetsIp\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.goToIndex('formItem')}}},[_vm._v(\"提交\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-93cdfaf2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/guide/assetSet.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-93cdfaf2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./assetSet.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./assetSet.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./assetSet.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-93cdfaf2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./assetSet.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-93cdfaf2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/guide/assetSet.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}