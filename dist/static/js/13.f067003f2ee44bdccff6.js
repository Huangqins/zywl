webpackJsonp([13],{"41Qs":function(s,t,e){"use strict";t.a=function(s){var t=s.assets_name,e=s.assets_url,r=s.assets_ip,n=s.assets_network_ports,o=s.assets_network_type,d=s.assets_type,l=s.assets_important,i=s.assets_os_type,u=s.assets_manger,m=s.assets_creatuser,_=s.assets_desc,c=s.assets_detail,p=s.assets_hostname,h=s.assets_numbering;return Object(a.a)({method:"post",url:"/ZY/asset/addAssets",data:{assets_name:t,assets_url:e,assets_ip:r,assets_network_ports:n,assets_network_type:o,assets_type:d,assets_important:l,assets_os_type:i,assets_manger:u,assets_creatuser:m,assets_desc:_,assets_detail:c,assets_hostname:p,assets_numbering:h}})};var a=e("vLgD")},jLYu:function(s,t){},thAI:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("4YfN"),r=e.n(a),n=e("41Qs"),o=e("9rMa"),d=e("tIHl"),l=e("TIfe"),i={data:function(){var s=this;return{tab:"template",headers:{token:Object(l.a)(),userName:Object(l.b)(),menuCode:vm._route.meta.menuCode},href:"/excel/asset.xlsx",uploadUrl:location.origin+"/ZY/asset/assetsImport",password:"",handAddForm:{assets_name:"",assets_url:"",assets_ip:"",assets_manger:"",assets_creatuser:Object(l.b)()},ruleValidate:{tassets_name:[{required:!0,message:"任务名称必填",trigger:"blur"}],assets_url:[{validator:function(t,e,a){""===e&&""===s.handAddForm.assets_ip?a(new Error("url及ip请至少填写一项")):a()},trigger:"blur"}],assets_ip:[{validator:function(t,e,a){""===e&&""===s.handAddForm.assets_url?a(new Error("url及ip请至少填写一项")):a()},trigger:"blur"}],assets_manger:[{required:!0,message:"负责人必填",trigger:"blur"}]}}},created:function(){console.log(vm)},computed:r()({},Object(o.b)(["userName"])),methods:{assetSubmit:function(){var s=this;"handler"===this.tab?this.$refs.handAdd.validate(function(t){t&&Object(n.a)(s.handAddForm).then(function(t){0===t.result?(Object(d.a)("success","导入资产成功"),s.$router.push({name:"firstassetAdd",params:{target_url:s.handAddForm.assets_url,target_ip:s.handAddForm.assets_ip}})):-1===t.result?Object(d.a)("error","导入资产失败"):2===t.result&&Object(d.a)("error","导入资产重复")})}):this.$router.push({name:"firstassetAdd"})},download:function(){}}},u={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("div",{staticClass:"whole"},[e("Card",{staticClass:"card",attrs:{tyle:""}},[e("h2",{staticStyle:{color:"white"},attrs:{slot:"title"},slot:"title"},[s._v("请选择您的导入方式")]),s._v(" "),e("Row",[e("Tabs",{attrs:{animated:!1},model:{value:s.tab,callback:function(t){s.tab=t},expression:"tab"}},[e("Tab-pane",{attrs:{label:"手动导入",name:"handler"}},[e("Form",{ref:"handAdd",attrs:{model:s.handAddForm,rules:s.ruleValidate}},[e("FormItem",{attrs:{prop:"tassets_name"}},[e("Input",{attrs:{type:"text",placeholder:"资产名称"},model:{value:s.handAddForm.tassets_name,callback:function(t){s.$set(s.handAddForm,"tassets_name",t)},expression:"handAddForm.tassets_name"}})],1),s._v(" "),e("FormItem",{attrs:{prop:"assets_url"}},[e("Input",{attrs:{type:"text",placeholder:"URL地址"},model:{value:s.handAddForm.assets_url,callback:function(t){s.$set(s.handAddForm,"assets_url",t)},expression:"handAddForm.assets_url"}})],1),s._v(" "),e("FormItem",{attrs:{prop:"assets_ip"}},[e("Input",{attrs:{type:"text",placeholder:"IP"},model:{value:s.handAddForm.assets_ip,callback:function(t){s.$set(s.handAddForm,"assets_ip",t)},expression:"handAddForm.assets_ip"}})],1),s._v(" "),e("FormItem",{attrs:{prop:"assets_manger"}},[e("Input",{attrs:{type:"text",placeholder:"负责人"},model:{value:s.handAddForm.assets_manger,callback:function(t){s.$set(s.handAddForm,"assets_manger",t)},expression:"handAddForm.assets_manger"}})],1)],1)],1),s._v(" "),e("Tab-pane",{attrs:{label:"批量导入",name:"template"}},[e("Upload",{attrs:{multiple:"",action:s.uploadUrl,"with-credentials":!0,accept:"",name:"excelFile",headers:s.headers}},[e("i-button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[s._v("导入文件")])],1),s._v(" "),e("Button",{attrs:{type:"ghost",icon:"iso-cloud-download-outline"}},[e("a",{attrs:{href:s.href,download:"资产导入模板"}},[s._v("资产模板下载")])])],1)],1),s._v(" "),e("Row",{staticClass:"primary",attrs:{type:"flex",align:"middle",justify:"center"}},[e("Col",[e("i-button",{attrs:{type:"primary"},on:{click:s.assetSubmit}},[s._v("提交")])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var m=e("vSla")(i,u,!1,function(s){e("jLYu")},"data-v-78b9319f",null);t.default=m.exports}});