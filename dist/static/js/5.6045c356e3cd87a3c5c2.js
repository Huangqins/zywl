webpackJsonp([5],{"0tpJ":function(t,e){},MsTT:function(t,e,a){"use strict";var n={name:"modal",props:{title:{type:String,default:""},data:{type:Object,default:function(){return{}}},format:{type:Array,default:function(){return[]}},ruleValidate:{type:Object,default:function(){return{}}}},data:function(){return{modal:!1,loading:!0}},methods:{asyncOK:function(){this.$emit("asyncOK",this.data)},open:function(){this.modal=!0},close:function(){this.modal=!1}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:t.title,loading:t.loading},on:{"on-ok":t.asyncOK},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("Form",{ref:"formValidate",attrs:{model:t.data,rules:t.ruleValidate,"label-width":115}},t._l(t.format,function(e,n){return a("FormItem",{key:n,attrs:{label:e.label}},["input"===e.type?[a("Input",{attrs:{placeholder:e.placeholder},model:{value:t.data[e.prop],callback:function(a){t.$set(t.data,e.prop,a)},expression:"data[item.prop]"}})]:t._e(),t._v(" "),"texteara"===e.type?[a("Input",{attrs:{placeholder:e.placeholder},model:{value:t.data[e.prop],callback:function(a){t.$set(t.data,e.prop,a)},expression:"data[item.prop]"}})]:t._e()],2)})),t._v(" "),t._t("default")],2)],1)},staticRenderFns:[]};var r=a("Z0/y")(n,l,!1,function(t){a("0tpJ")},null,null);e.a=r.exports},YTJj:function(t,e,a){"use strict";e.__esModule=!0,e.default=function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}},edsh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("YTJj"),l=a.n(n),r=a("4YfN"),o=a.n(r),s=a("aA9S"),i=a.n(s),u=a("MsTT"),c=a("sxu/"),p=a("9rMa"),d=(a("tIHl"),a("vLgD"));var _={4:"紧急风险",3:"高风险",2:"中风险",1:"低风险",0:"无风险"},v={components:{page:c.a,Modals:u.a},data:function(){var t=this;return{loading:!1,title:"新建",formValidate:!1,format:[{label:"漏洞名称",type:"input",prop:"kb_vuln_name"},{label:"CVE/CNVD编码",type:"input",prop:"kb_vuln_cve"},{label:"漏洞编号",type:"input",prop:"kb_vuln_vnum"},{label:"漏洞级别",type:"input",prop:"kb_vuln_level"},{label:"漏洞端口",type:"input",prop:"kb_vuln_port"},{label:"漏洞类型",type:"input",prop:"kb_vuln_type"}],data:{kb_vuln_name:"",kb_vuln_cve:"",kb_vuln_vnum:"",kb_vuln_level:"",kb_vuln_type:""},rules:{kb_vuln_name:[{required:!0,message:"请填写资产名",trigger:"blur"}]},value:"",assets:[{title:"漏洞名称",key:"kb_vuln_name",align:"center"},{title:"CVE/CNVD编码",key:"kb_vuln_cve",align:"center"},{title:"漏洞编号",key:"kb_vuln_vnum",align:"center"},{title:"漏洞级别",key:"kb_vuln_level",align:"center",render:function(t,e){return t("span",""+_[e.row.kb_vuln_level])}},{title:"漏洞端口",key:"kb_vuln_port",align:"center"},{title:"漏洞类型",key:"kb_vuln_type",align:"center"},{title:"操作",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.data=i()({},t.data,a.row),t.$refs.formValidate.open()}}},"修改"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){}}},"删除")])}}],display:!1,assetsList:[],defaultPage:{area:1,rows:10,page:1},total:0}},computed:o()({},Object(p.b)(["userName"])),created:function(){var t,e,a,n,l=this,r=i()({},this.defaultPage,{area:0});(t=r,e=t.userName,a=t.rows,n=t.page,Object(d.a)({url:"/ZY/kb/KBInfo",method:"post",data:{userName:e,rows:a,page:n}})).then(function(t){l.assetsList=t.rows,l.total=t.total})},methods:{assetsAdd:function(){this.$refs.formValidate.open(),this.data={}},asyncOK:function(t){var e,a,n,l,r,o,s,i=this;(e=t,a=e.kb_vuln_name,n=e.kb_vuln_cve,l=e.kb_vuln_vnum,r=e.kb_vuln_level,o=e.kb_vuln_port,s=e.kb_vuln_type,Object(d.a)({method:"post",url:"ZY/kb/addKB",data:{kb_vuln_name:a,kb_vuln_cve:n,kb_vuln_vnum:l,kb_vuln_level:r,kb_vuln_port:o,kb_vuln_type:s}})).then(function(t){0===t.result?i.$refs.formValidate.close():i.$refs.formValidate.open()})},remove:function(t){l()(t)},update:function(t){}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"whole"},[t._m(0),t._v(" "),a("section",{staticClass:"assetRight"},[a("div",{staticClass:"assetRight_header"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"区域",clearable:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),a("Button",{attrs:{type:"primary",icon:"ios-search"}},[t._v("搜索")]),t._v(" "),a("Button",{attrs:{type:"primary",icon:"compose"},on:{click:t.assetsAdd}},[t._v("添加")]),t._v(" "),a("Button",{attrs:{type:"primary",icon:"log-in"}},[t._v("导入")]),t._v(" "),a("Button",{attrs:{type:"primary",icon:"log-out"}},[t._v("导出")])],1),t._v(" "),a("div",{staticClass:"assetRight_content"},[a("page",{attrs:{columns:t.assets,data:t.assetsList,dataTotal:t.total}})],1)])]),t._v(" "),a("Modals",{ref:"formValidate",attrs:{format:t.format,data:t.data,title:t.title,rules:t.rules,display:t.display,loading:t.loading},on:{asyncOK:t.asyncOK}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"assetLeft"},[e("span",[this._v("知识库信息维护")])])}]};var m=a("Z0/y")(v,f,!1,function(t){a("hcle")},"data-v-93954822",null);e.default=m.exports},hcle:function(t,e){}});