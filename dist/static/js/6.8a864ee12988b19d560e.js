webpackJsonp([6,31],{"/p2q":function(t,e){},"72x0":function(t,e,a){a("7XU4"),t.exports=a("AKd3").Object.keys},"7XU4":function(t,e,a){var n=a("OXaN"),i=a("5pnV");a("t+Om")("keys",function(){return function(t){return i(n(t))}})},"9Fqg":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"zhexiantu",components:{chart:a("StQU").a},props:{id:{type:String,default:""},option:{type:Object,default:function(){return{}}},width:{type:String,default:"100%"},height:{type:String,default:"100%"}},data:function(){return{mock:"",data:[],option:{title:{text:"动态数据 + 时间坐标轴",textStyle:{color:"#E4E5E5"}},tooltip:{trigger:"axis",formatter:function(t){t=t[0];var e=new Date(t.name);return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+" : "+t.value[1]},axisPointer:{animation:!1}},xAxis:{type:"time",splitLine:{show:!1},axisLine:{lineStyle:{color:"#E4E5E5"}}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1},axisLine:{lineStyle:{color:"white"}}},series:[{name:"模拟数据",type:"line",showSymbol:!1,hoverAnimation:!1,data:[]}]}}},destroyed:function(){clearInterval(this.mock)},mounted:function(){},computed:{style:function(){return{height:this.height,width:this.width}}}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"chart",style:this.style,attrs:{option:this.option,id:"wjj"}})])},staticRenderFns:[]},s=a("vSla")(n,i,!1,null,null,null);e.default=s.exports},A1W7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("4YfN"),i=a.n(n),s=a("ZLEe"),o=a.n(s),r=a("9rMa"),l=a("YaEn"),c=a("StQU"),u=a("9Fqg"),f={name:"scrollPane",data:function(){return{left:0}},methods:{handleScroll:function(t){var e=t.wheelDelta||3*-t.deltaY,a=this.$refs.scrollContainer.offsetWidth,n=this.$refs.scrollWrapper.offsetWidth;e>0?this.left=Math.min(0,this.left+e):a-15<n?this.left<-(n-a+15)?this.left=this.left:this.left=Math.max(this.left+e,a-n-15):this.left=0},moveToTarget:function(t){var e=this.$refs.scrollContainer.offsetWidth,a=t.offsetLeft,n=t.offsetWidth;a<-this.left?this.left=15-a:a+15>-this.left&&a+n<-this.left+e-15||(this.left=-(a-(e-n)+15))}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"scrollContainer",staticClass:"scroll-container",on:{wheel:function(e){return e.preventDefault(),t.handleScroll(e)}}},[a("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",style:{left:t.left+"px"}},[t._t("default")],2)])},staticRenderFns:[]};var d={components:{ScrollPanel:a("vSla")(f,p,!1,function(t){a("tlO6")},"data-v-353c53f4",null).exports},data:function(){return{visible:!1,top:0,left:0,selectedTag:{}}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews}},watch:{$route:function(){this.addViewTags()}},mounted:function(){},methods:{isActive:function(t){return t.path===this.$route.path},closeSelectedTag:function(t){var e=this;this.$store.dispatch("delVisitedViews",t).then(function(a){if(e.isActive(t)){var n=a.slice(-1)[0];n?e.$router.push(n.path):e.$router.push("/mainpage/homepage")}})},generateRoute:function(){return!!this.$route.name&&this.$route},addViewTags:function(){var t=this.generateRoute();if(!t)return!1;this.$store.dispatch("addVisitedViews",t)}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags-view-container"},[a("scroll-panel",{ref:"scrollPane",staticClass:"tags-view-wrapper"},t._l(Array.from(t.visitedViews),function(e){return a("router-link",{key:e.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:t.isActive(e)?"active":"",attrs:{to:e.path}},[t._v("\n                   "+t._s(e.title)+"\n                "),a("span",{on:{click:function(a){a.preventDefault(),a.stopPropagation(),t.closeSelectedTag(e)}}},[a("Icon",{attrs:{type:"close"}})],1)])}))],1)},staticRenderFns:[]};var m=a("vSla")(d,h,!1,function(t){a("/p2q"),a("u794")},"data-v-1a44e17b",null).exports,g=a("TIfe"),v=a("vLgD");var _=a("V2Kl"),y=a("LsSL"),x={name:"taskexecution",components:{chart:c.a,zhexiantu:u.default,tagsView:m},created:function(){this.userName},watch:{$route:function(t,e){}},data:function(){return{menuList:[{name:"01",text:"首页",path:"/mainpage/homepage",icon:"ios-home"},{name:"02",text:"任务调度",path:"/mainpage/assetSet",icon:"android-radio-button-on"},{name:"03",path:"/mainpage/assetManagement",text:"资产码头",icon:"ios-list-outline"},{name:"04",path:"/mainpage/assetsManage",text:"风险态势",icon:"podium"},{name:"05",path:"/mainpage/leaks",text:"风险详情",icon:"bug"},{name:"06",path:"/mainpage/kbinfo",text:"知识管理",icon:"social-dropbox"},{name:"1-7",text:"系统管理",path:"/systemManage",icon:"settings",children:[{name:"07",path:"/logs",text:"日志管理"},{name:"08",path:"/apiManage",text:"Api管理"},{name:"09",path:"/user",text:"个人信息"},{name:"10",path:"/authorize",text:"授权管理"}]}],key:Date.now(),target_id:0,taskID:0,loading:!1,isCollapsed:!1}},beforeRouteEnter:function(t,e,a){if("/login"===e.fullPath){var n=t.params;console.log(n),o()(n).length>0&&(1===n.firstLogin?0===n.userTips.dateTime?Object(_.a)({userName:Object(g.b)()}).then(function(t){if(0===t.result){var e=t.targets[0].target_id,a=t.targets[0].target_name;y.Modal.success({title:"您好,"+Object(g.b)(),content:"您好，您当前有未执行完毕的任务:"+a+",即将进入任务执行页",loading:!0,onOk:function(){setTimeout(function(){y.Modal.remove(),l.a.push({name:"process",params:{target_id:e,targetInfo:t.targets[0]}})},2e3)}})}}):y.Modal.confirm({title:"您好, "+Object(g.b)(),content:function(t){var e=t.assets_name;t.datetime;return"欢迎使用智刃安全攻防平台,距您上次进行攻防测试已经过了XXX天XXX小时XXX分钟，建议进行测试的资产为"+e}(n.userTips),onOk:function(){a({path:"/mainpage/assetSet"})},onCancel:function(){a("/taskhomepage")}}):0===n.userTips.dateTime?Object(_.a)({userName:Object(g.b)()}).then(function(t){if(0===t.result){var e=t.targets[0].target_id;l.a.push({name:"process",params:{target_id:e,targetInfo:t.targets[0]}})}}):y.Modal.confirm({title:"您好,"+Object(g.b)(),content:"欢迎使用智刃安全攻防平台, 是否要进行安全测试？",onOk:function(){a({path:"/mainpage/assetSet"})},onCancel:function(){a("/taskhomepage")}}))}a()},methods:{collapsedSider:function(){this.$refs.side1.toggleCollapse()},loginOut:function(){this.$store.commit("REMOVE_TOKEN"),Object(g.c)(),Object(g.d)(),this.$router.push({path:"/login"})},_taskTargetInfo:function(t){var e,a,n,i=this;(e=t,a=e.userName,n=e.targetStruts,Object(v.a)({method:"post",url:"/ZY/task/targetInfo",data:{userName:a,targetStruts:n}})).then(function(t){0===t.result&&(i.target_id=t.targets[0].target_id)})},rowClassName:function(t,e){return"demo-table-info-row"},gotaskadd:function(){this.$router.push({path:"/assetSet"})}},computed:i()({},Object(r.b)(["userName","isTry","model"]),{rotateIcon:function(){return["menu-icon",this.isCollapsed?"rotate-icon":""]},menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]}})},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("Layout",[n("Sider",{ref:"side1",staticStyle:{background:"rgba(255,255,255,0.05)","min-width":"48px","max-width":"120px"},attrs:{"hide-trigger":"",collapsible:"","collapsed-width":48},model:{value:t.isCollapsed,callback:function(e){t.isCollapsed=e},expression:"isCollapsed"}},[n("span",{staticClass:"log"},[n("img",{attrs:{src:a("N51c"),alt:""}})]),t._v(" "),n("Menu",{class:t.menuitemClasses,attrs:{"active-name":"1-2",theme:"dark",width:"auto"}},t._l(t.menuList,function(e){return n("div",{key:e.name},[e.children?[n("Submenu",{attrs:{name:e.name}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:e.icon}}),t._v(" "),n("span",[t._v(t._s(e.text))])],1),t._v(" "),t._l(e.children,function(a){return t.isCollapsed?t._e():[n("router-link",{key:a.path,attrs:{to:"/mainpage"+a.path}},[n("MenuItem",{staticStyle:{"padding-left":"27px"},attrs:{name:e.name+a.name}},[n("span",[t._v(t._s(a.text))])])],1)]})],2)]:[n("router-link",{attrs:{to:e.path}},[n("MenuItem",{attrs:{name:e.name}},[n("Icon",{attrs:{type:e.icon}}),t._v(" "),n("span",[t._v(t._s(e.text))])],1)],1)]],2)}))],1),t._v(" "),n("Layout",[n("Header",{staticClass:"layout-header-bar",style:{padding:0,background:""}},[n("Icon",{class:t.rotateIcon,style:{margin:"10px 10px 0",color:"white",float:"left"},attrs:{type:"navicon-round",size:"20"},nativeOn:{click:function(e){return t.collapsedSider(e)}}}),t._v(" "),n("div",{staticClass:"headers"},[n("span",{staticStyle:{color:"#fff","font-size":"14px"}},[t._v("您好:"),n("span",{staticStyle:{color:"white"}},[t._v(t._s(t.userName))]),t._v(" "),n("span")]),t._v(" "),n("Button",{staticStyle:{border:"none"},attrs:{type:"ghost",shape:"circle",icon:"power"},on:{click:t.loginOut}})],1)],1),t._v(" "),n("tags-view"),t._v(" "),n("Content",{style:{minHeight:"946px"}},[n("router-view",{key:t.key})],1)],1)],1)],1)},staticRenderFns:[]};var w=a("vSla")(x,b,!1,function(t){a("XctM")},"data-v-7fe01755",null);e.default=w.exports},XctM:function(t,e){},ZLEe:function(t,e,a){t.exports={default:a("72x0"),__esModule:!0}},"t+Om":function(t,e,a){var n=a("FITv"),i=a("AKd3"),s=a("BRDz");t.exports=function(t,e){var a=(i.Object||{})[t]||Object[t],o={};o[t]=e(a),n(n.S+n.F*s(function(){a(1)}),"Object",o)}},tlO6:function(t,e){},u794:function(t,e){}});